import{l as k,r as c,m as v,j as e,F as D}from"./index-C3PuPWmY.js";import{H as r}from"./HeaderSection-C13p-j5d.js";const z="_articlesSection_if37z_7",b="_articlesGrid_if37z_59",T="_articleCard_if37z_85",S="_articleImage_if37z_127",B="_articleOverlay_if37z_131",C="_readMore_if37z_136",E="_techChip_if37z_140",L="_articleTypeContainer_if37z_262",$="_articleBadge_if37z_270",w="_articleTypeBadge_if37z_285",P="_projectTypeBadge_if37z_297",M="_articleStatus_if37z_309",A="_articleMeta_if37z_354",O="_articleDates_if37z_363",I="_articleDate_if37z_363",V="_articleViews_if37z_382",G="_articleActions_if37z_418",R="_articleContent_if37z_486",F="_articleTitle_if37z_498",U="_articleDescription_if37z_519",Y="_articleLinks_if37z_539",H="_articleLink_if37z_539",K="_github_if37z_576",q="_demo_if37z_582",J="_video_if37z_588",Q="_articleTechnologies_if37z_752",W="_techMore_if37z_829",X="_adminButton_if37z_861",Z="_retryButton_if37z_898",ee="_articlesError_if37z_933",te="_articlesEmpty_if37z_954",se="_articleCardSkeleton_if37z_1127",ae="_skeletonImage_if37z_1149",ie="_skeletonContent_if37z_1171",ce="_skeletonBadges_if37z_1179",re="_skeletonBadge_if37z_1179",oe="_skeletonTitle_if37z_1210",le="_skeletonDescription_if37z_1234",ne="_skeletonLine_if37z_1241",de="_skeletonTechs_if37z_1272",_e="_skeletonTech_if37z_1272",t={articlesSection:z,articlesGrid:b,articleCard:T,articleImage:S,articleOverlay:B,readMore:C,techChip:E,articleTypeContainer:L,articleBadge:$,articleTypeBadge:w,projectTypeBadge:P,articleStatus:M,articleMeta:A,articleDates:O,articleDate:I,articleViews:V,articleActions:G,articleContent:R,articleTitle:F,articleDescription:U,articleLinks:Y,articleLink:H,github:K,demo:q,video:J,articleTechnologies:Q,techMore:W,adminButton:X,retryButton:Z,articlesError:ee,articlesEmpty:te,articleCardSkeleton:se,skeletonImage:ae,skeletonContent:ie,skeletonBadges:ce,skeletonBadge:re,skeletonTitle:oe,skeletonDescription:le,skeletonLine:ne,skeletonTechs:de,skeletonTech:_e},pe=({onArticleClick:l,showAdminButton:n=!1,onAdminClick:o})=>{const d=k(),[_,x]=c.useState([]),[N,m]=c.useState(!0),[h,y]=c.useState(null);c.useEffect(()=>{p()},[]);const p=async()=>{try{m(!0);const s=await v();x(s)}catch(s){y("Error al cargar los proyectos"),console.error(s)}finally{m(!1)}},f=s=>{l?l(s):d(`/article/${s}`)},g=()=>{d("/articles/admin"),o==null||o()};return N?e.jsxs("section",{className:t.articlesSection,children:[e.jsx(r,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsx("div",{className:"section-container",children:e.jsx("div",{className:t.articlesGrid,children:[...Array(6)].map((s,a)=>e.jsxs("div",{className:t.articleCardSkeleton,children:[e.jsx("div",{className:t.skeletonImage}),e.jsxs("div",{className:t.skeletonContent,children:[e.jsxs("div",{className:t.skeletonBadges,children:[e.jsx("div",{className:t.skeletonBadge}),e.jsx("div",{className:t.skeletonBadge})]}),e.jsx("div",{className:t.skeletonTitle}),e.jsxs("div",{className:t.skeletonDescription,children:[e.jsx("div",{className:t.skeletonLine}),e.jsx("div",{className:t.skeletonLine})]}),e.jsxs("div",{className:t.skeletonTechs,children:[e.jsx("div",{className:t.skeletonTech}),e.jsx("div",{className:t.skeletonTech}),e.jsx("div",{className:t.skeletonTech})]})]})]},a))})})]}):h?e.jsxs("section",{className:t.articlesSection,children:[e.jsx(r,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:t.articlesError,children:[e.jsx("p",{children:h}),e.jsx("button",{onClick:p,className:t.retryButton,children:"Reintentar"})]})]}):_.length===0?e.jsxs("section",{className:t.articlesSection,children:[e.jsx(r,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsxs("div",{className:t.articlesEmpty,children:[e.jsx("i",{className:"fas fa-project-diagram"}),e.jsx("p",{children:"No hay proyectos publicados aún."}),n&&e.jsxs("button",{onClick:g,className:t.adminButton,children:[e.jsx("i",{className:"fas fa-plus"})," Crear primer proyecto"]})]}),"      "]}):e.jsxs("section",{className:"section-cv",children:[e.jsx(r,{icon:"fas fa-project-diagram",title:"Proyectos Destacados",subtitle:"Una selección de mis proyectos más relevantes y sus tecnologías",className:"articles"}),e.jsx("div",{className:"section-container",children:e.jsx("div",{className:t.articlesGrid,children:_.map(s=>e.jsxs("article",{className:t.articleCard,onClick:()=>f(s.id),tabIndex:0,onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),f(s.id))},children:[s.image_url&&e.jsxs("div",{className:t.articleImage,children:[e.jsx("img",{src:s.image_url,alt:s.title,loading:"lazy"}),e.jsx("div",{className:t.articleOverlay,"data-tooltip":"Ver proyecto completo",role:"button",tabIndex:-1,"aria-label":"Abrir proyecto",children:e.jsx("i",{className:"fas fa-newspaper","aria-hidden":"true"})})]}),e.jsxs("div",{className:t.articleContent,children:[e.jsxs("div",{className:t.articleTypeContainer,children:[s.article_content?e.jsxs("span",{className:`${t.articleBadge} ${t.articleTypeBadge}`,role:"badge","aria-label":"Tipo de contenido: Artículo",children:[e.jsx("i",{className:"fas fa-newspaper","aria-hidden":"true"}),"Artículo"]}):e.jsxs("span",{className:`${t.articleBadge} ${t.projectTypeBadge}`,role:"badge","aria-label":"Tipo de contenido: Proyecto",children:[e.jsx("i",{className:"fas fa-code","aria-hidden":"true"}),"Proyecto"]}),e.jsx("span",{className:`${t.articleBadge} ${t.articleStatus}`,"data-status":s.status,role:"badge","aria-label":`Estado del proyecto: ${s.status}`,children:s.status==="Completado"?"COMPLETADO":s.status==="En Desarrollo"?"EN DESARROLLO":"BORRADOR"})]}),e.jsxs("div",{className:t.articleMeta,children:[e.jsx("div",{className:t.articleDates,children:s.project_start_date&&s.project_end_date?e.jsx("time",{className:t.articleDate,dateTime:s.project_start_date,title:`Proyecto desarrollado desde ${new Date(s.project_start_date).toLocaleDateString("es-ES")} hasta ${new Date(s.project_end_date).toLocaleDateString("es-ES")}`,children:(()=>{const a=new Date(s.project_start_date),i=new Date(s.project_end_date),j=a.getFullYear(),u=i.getFullYear();return j===u?`${a.toLocaleDateString("es-ES",{month:"short"})} - ${i.toLocaleDateString("es-ES",{month:"short",year:"numeric"})}`:`${j} - ${u}`})()}):s.project_start_date?e.jsxs("time",{className:t.articleDate,dateTime:s.project_start_date,title:`Proyecto iniciado en ${new Date(s.project_start_date).toLocaleDateString("es-ES")}`,children:["Desde ",new Date(s.project_start_date).toLocaleDateString("es-ES",{month:"short",year:"numeric"})]}):s.created_at?e.jsx("time",{className:t.articleDate,dateTime:s.created_at,title:`Publicado el ${new Date(s.created_at).toLocaleDateString("es-ES")}`,children:new Date(s.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}):e.jsx("span",{className:t.articleDate,children:"Fecha no disponible"})}),e.jsxs("span",{className:t.articleViews,"aria-label":`Número de visitas: ${s.views||0}`,children:[e.jsx("i",{className:"fas fa-eye","aria-hidden":"true"}),s.views||0]})]}),e.jsx("h3",{className:t.articleTitle,children:s.title}),e.jsx("p",{className:t.articleDescription,children:s.description}),s.technologies&&s.technologies.length>0&&e.jsxs("div",{className:t.articleTechnologies,children:[s.technologies.slice(0,4).map((a,i)=>e.jsx("span",{className:t.techChip,children:a},i)),s.technologies.length>4&&e.jsxs("span",{className:t.techMore,children:["+",s.technologies.length-4]})]}),e.jsxs("div",{className:t.articleLinks,children:[s.github_url&&e.jsx("a",{href:s.github_url,className:`${t.articleLink} ${t.github}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver repositorio en GitHub",children:e.jsx("i",{className:"fab fa-github"})}),s.live_url&&s.live_url!=="#"&&e.jsx("a",{href:s.live_url,className:`${t.articleLink} ${t.demo}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver demo en vivo",children:e.jsx("i",{className:"fas fa-eye"})}),s.video_demo_url&&e.jsx("a",{href:s.video_demo_url,className:`${t.articleLink} ${t.video}`,target:"_blank",rel:"noopener noreferrer",onClick:a=>a.stopPropagation(),"aria-label":"Ver video demostración",children:e.jsx("i",{className:"fab fa-youtube"})})]}),e.jsx("div",{className:t.articleActions,children:e.jsxs("span",{className:t.readMore,children:["Ver proyecto completo ",e.jsx("i",{className:"fas fa-arrow-right"})]})})]})]},s.id))})}),n&&e.jsx(D,{onClick:g,icon:"fas fa-edit",label:"Gestionar Proyectos",color:"primary",position:"bottom-right"})]})};export{pe as default};
